// Components.

// Red team panel.
.panel-red {
	@extend .panel-danger; // TODO
}
.panel-blue {
	@extend .panel-primary; // TODO
}


// Layout
article.game {
}

@media (min-width: $screen-sm-min) and (max-width: $screen-sm-max) {
	article.game > section.players {
		@include make-row();
	}
	article.game > section.players > * {
		@include make-xs-column(12);
	}
	article.game > section.players > .team {
		@include make-sm-column(6);
	}
}

@media (min-width: $screen-md-min) {
	$sidebar-width: 300px;
	article.game > section.players {
		float: left;
		width: $sidebar-width;
	}
	article.game > section.round,
	article.game > section.no-round {
		margin-left: $sidebar-width + $grid-gutter-width;
	}
}


section.players > .red.team {
	@extend .panel;
	@extend .panel-red;
}
section.players > .blue.team {
	@extend .panel;
	@extend .panel-blue;
}
section.players > .team {
	> h3 {
		@extend .panel-heading;
		@extend h4;

		margin: 0;
	}
	> ul {
		@extend .list-group;

		> li {
			@extend .list-group-item;
		}
	}
}




article.game > section.no-round {
	@extend .blank-slate;
}

section.round > .round-ended {
	@extend .alert;
	@extend .alert-success;
	overflow: hidden; // Clearfix.

	button {
		float: right;
	}
}
.next-round {
	@extend .btn;
	@extend .btn-primary;
}

section.no-turn {
	@extend .blank-slate;
}
section.turn {
	position: relative;
}
section.turn.blue {
	@extend .panel;
	@extend .panel-blue;
}
section.turn.red {
	@extend .panel;
	@extend .panel-red;
}
section.turn > .number {
	position: absolute;
	right: $padding-base-horizontal;
	top: $padding-base-vertical;
	color: $gray-light;
}
section.turn > h3 {
	@extend .panel-heading;
	@extend h4;

	margin: 0;
}
section.turn > .clue,
section.turn > .no-clue,
section.turn > .clue-form {
	@extend .panel-body;

	overflow: hidden;
}
section.turn > .clue::after,
section.turn > .clue::before,
section.turn > .no-clue::after,
section.turn > .clue-form::after {
	content: ""; // An unneeded clearfix adds this in.
}

.guess-instruction {
	@extend .alert;
	@extend .alert-success;
	overflow: hidden;

	button {
		float: right;
	}
}

.clue-form > .word {
	float: left;
	text-align: left;
	width: 70%;
}
.clue-form > .number {
	float: left;
	text-align: right;
	width: 30%;
}
.clue {
	display: flex;
	justify-content: space-around;
}
.clue > .word,
.clue > .number,
.clue > .remaining {
	text-align: center;
}
.clue > .word > span,
.clue > .remaining > span,
.clue > .number > span {
	display: block;
	font-size: 300%;
	line-height: 1;
	font-weight: bold;
}

.clue-form {
	> * {
		@extend .form-group;
	}

	input {
		@extend .form-control;
		@extend .input-lg;
	}

	.buttons {
		clear: right;
		margin-bottom: 0;
	}
	button {
		@extend .btn;
		@extend .btn-success;
		@extend .btn-block;
	}
}

.cards {
	display: flex;
	flex-flow: row wrap;
	justify-content: space-between;
	align-items: flex-start;

	padding: 0 $panel-body-padding $panel-body-padding 0;
}
$card-radius: 2px;
.card {
	position: relative;
	width: 8em;
	height: 5em;
	margin: $panel-body-padding 0 0 $panel-body-padding;

	background-color: #eee;
	box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);
	transition: box-shadow .25s;
	border-radius: $card-radius;

	color: black;

	@include center-child();
	> span {
		font-size: 130%;
	}
}
.cards.guess .card:not(.covered):hover {
	box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18),0 4px 15px 0 rgba(0,0,0,0.15);
	cursor: pointer;
}

.card.red {   background-color: $team-red-bg; }
.card.blue {  background-color: $team-blue-bg; }
.card.grey {  background-color: $team-grey-bg; }
.card.black { background-color: $team-black-bg; }
.card > .covering {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;

	border-radius: $card-radius;

	@include center-child();
	span {
		transform:rotate(-20deg);
	}
}
.card > .covering.red   { background: rgba($team-red,   0.7); }
.card > .covering.blue  { background: rgba($team-blue,  0.7); }
.card > .covering.grey  { background: rgba($team-grey,  0.7); }
.card > .covering.black { background: rgba($team-black, 0.7); }

button.start-round,
button.next-turn {
	@extend .btn;
	@extend .btn-lg;
	@extend .btn-primary;
}