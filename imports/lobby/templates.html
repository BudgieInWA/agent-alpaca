<template name="lobbyScreen">
    {{#if Template.subscriptionsReady}}
        {{#with doc}}
            <header>
                <h1>Lobby {{name}}</h1>

                owner: {{> userReference id=ownerId}}
            </header>

            <h2>Players</h2>
            <ul>
                {{#each userId in userIds}}
                    <li>
                        {{> userReference id=userId}}
                    </li>
                {{else}}
                    <li class="empty-list">
                        No Users :(
                    </li>
                {{/each}}
            </ul>

            {{#if canJoin}}
                <button class="join-lobby">Join Lobby!</button>
            {{/if}}
            {{#if canLeave}}
                <button class="leave-lobby">Leave Lobby</button>
            {{/if}}

            <h2>Game</h2>
            {{#if gameId}}
                {{> gameReference id=gameId}}
            {{else}}
                <button class="start-game" {{if_Then_ reasonsNotToStart "disabled"}}>
                    Start Game
                </button>
                {{reasonsNotToStart}}
            {{/if}}
        {{else}}
            unknown
        {{/with}}
    {{else}}
        {{> inlineSpinner}}
    {{/if}}
</template>

<template name="lobbyListScreen">
    <header>
        <h1>Public Lobbies</h1>
    </header>

    <button class="create-lobby">New Lobby</button>

    {{#if Template.subscriptionsReady}}
        <ul>
            {{#each lobby in lobbies}}
                <li>
                    <a href="/lobby/{{lobby._id}}">{{lobby.name}}</a>
                </li>
            {{else}}
                <li class="empty-list">
                    No Lobbies :( Create one your self!
                </li>
            {{/each}}
        </ul>
    {{else}}
        {{> inlineSpinner}}
    {{/if}}
</template>
